<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>

let products = [
    {id :1, name:"Phone",price:2000 },
    {id :2, name:"Charger", price:200},
    {id: 3, name:"Headphones", price:100}
];

function addProduct(productToBeAdded){

    if(!products.find(p=> p.id==productToBeAdded.id)){
        products.push(productToBeAdded);
        return true;
    }
    return false;
}


function updateProduct(productToBeUpdated){
    let productToBeEdited = products.find(p=> p.id==productToBeUpdated.id)
    if(productToBeEdited){
        productToBeEdited.name = productToBeUpdated.name;
        productToBeEdited.price = productToBeUpdated.price;
        return true;
    }
    return false;
}

function viewProducts(){
    return products;
}

function applyDiscount(Percentage){

        let productnew = products.map(p => {
            let updatedP = {...p}; 
            updatedP.price = (p.price*Percentage)/100;
            return updatedP;
        });

        return productnew;
}

console.log(addProduct({id:1, name:"Bottle", price:300}));
console.log(addProduct({id:4, name:"ottle", price:300}));
console.log(updateProduct({id:3, name:"Neckband", price:700}));
console.log(updateProduct({id:5, name:"Neckband", price:700}));
console.log(viewProducts());
console.log(applyDiscount(30));


</script>
</html>